<div class="section_2">
  
  {% if section.settings.imageupper != blank %}
    <img src="{{ section.settings.imageupper | image_url }}   " alt="">
  {% endif %}


  <div class="ref-main-container">
        <div class="ref-title">
          <h2>{{ section.settings.text_carousel }}</h2>
        </div>
    <div class="ref-carousel-container">
      <a href="#" id="prevBtn" class="ref-arrow-btn">❮</a>
      <div id="carouselSlide" class="ref-carousel-slide">
        {% for block in section.blocks %}
          <div class="ref-card">
            <img class="ref-card-image" src="{{ block.settings.image | image_url }}" alt="">
            <div class="ref-card-title">{{ block.settings.title }}</div>
            <div class="ref-card-subtitle">{{ block.settings.subtitle }}</div>
          </div>
        {% endfor %}
      </div>
      <a href="#" id="nextBtn" class="ref-arrow-btn">❯</a>
    </div>
  </div>

  <div class="section_2-main">



    
    <div class="pure-g">
      <div class="section_2-first pure-u-1 pure-u-md-19-24">
        <div class="section_2_title">
          <button>{{ section.settings.text_1 }}</button>
        </div>
      </div>
      <div class="section_2-left pure-u-1 pure-u-md-12-24">
        <div class="subtitle">
          {{ section.settings.text_2 }}
        </div>
        <div class="section_2-types pure-g">
          <div class="pure-u-1 pure-u-md-12-24">
            <div class="section_2_types-image">
              <img src="{{ section.settings.type_1-image | image_url }}  " alt="">
            </div>
            <div class="section_2-types_title">Hypoallergenic</div>
            <div class="section_2-types_subtitle">
              {{ section.settings.text_3 }}
            </div>
          </div>
          <div class="pure-u-1 pure-u-md-12-24">
            <div class="section_2_types-image">
              <img src="{{ section.settings.type_2-image | image_url }}" alt="">
            </div>
            <div class="section_2-types_title">{{ section.settings.text_4 }}</div>
            <div class="section_2-types_subtitle">
              {{ section.settings.text_5 }}
            </div>
          </div>
          <div class="pure-u-1 pure-u-md-12-24">
            <div class="section_2_types-image">
              <img src="{{ section.settings.type_3-image | image_url }}" alt="">
            </div>
            <div class="section_2-types_title">{{ section.settings.text_6 }}</div>
            <div class="section_2-types_subtitle">
              {{ section.settings.text_7 }}
            </div>
          </div>
          <div class="pure-u-1 pure-u-md-12-24">
            <div class="section_2_types-image">
              <img src="{{ section.settings.type_4-image | image_url }}" alt="">
            </div>
            <div class="section_2-types_title">{{ section.settings.text_8 }}</div>
            <div class="section_2-types_subtitle">
              {{ section.settings.text_9 }}
            </div>
          </div>
          <div class="pure-u-1 ">
            <div class="section_2-button">
              <a  class="p_btn_3" href="/pages/quiz-collection">{{ section.settings.link_tryNow }}</a>
              <a href="{{ section.settings.link_2 }}" class="section_2-button-2">{{ section.settings.link_learnMore }}</a>
            </div>
          </div>
        </div>
      </div>
      <div class="section_2-col_right pure-u-1 pure-u-md-12-24">
        <div class="section_2_lower_image">
          <img src="{{ section.settings.image | image_url }}" loading="lazy" alt="">
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "section_2",
  "settings": [
    {
      "label": "text_carousel",
      "id": "text_carousel",
      "type": "text"
    },
    {
      "label": "image",
      "id": "image",
      "type": "image_picker"
    },
    {
      "label": "imageupper",
      "id": "imageupper",
      "type": "image_picker"
    },
    {
      "label": "type_1-image",
      "id": "type_1-image",
      "type": "image_picker"
    },
    {
      "label": "type_2-image",
      "id": "type_2-image",
      "type": "image_picker"
    },
    {
      "label": "type_3-image",
      "id": "type_3-image",
      "type": "image_picker"
    },
    {
      "label": "type_4-image",
      "id": "type_4-image",
      "type": "image_picker"
    },
    {
      "label": "text_1",
      "id": "text_1",
      "type": "text"
    },
    {
      "label": "text_2",
      "id": "text_2",
      "type": "text"
    },
    {
      "label": "text_3",
      "id": "text_3",
      "type": "text"
    },
    {
      "label": "text_4",
      "id": "text_4",
      "type": "text"
    },
    {
      "label": "text_5",
      "id": "text_5",
      "type": "text"
    },
    {
      "label": "text_6",
      "id": "text_6",
      "type": "text"
    },
    {
      "label": "text_7",
      "id": "text_7",
      "type": "text"
    },
    {
      "label": "text_8",
      "id": "text_8",
      "type": "text"
    },
    {
      "label": "text_9",
      "id": "text_9",
      "type": "text"
    },
    {
      "label": "link_tryNow",
      "id": "link_tryNow",
      "type": "text"
    },
    {
      "label": "link_1",
      "id": "link_1",
      "type": "url"
    },
    {
      "label": "link_learnMore",
      "id": "link_learnMore",
      "type": "text"
    },
    {
      "label": "link_2",
      "id": "link_2",
      "type": "url"
    }
  ],
  "blocks": [
    {
      "type": "card",
      "name": "CardRef",
      "settings": [
        {
          "label": "Image",
          "id": "image",
          "type": "image_picker"
        },
        {
          "label": "Title",
          "id": "title",
          "type": "text"
        },
        {
          "label": "Subtitle",
          "id": "subtitle",
          "type": "text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "section_2"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}

const slider = document.querySelector('.ref-carousel-slide');
let isDown = false;
let startX;
let scrollLeft;

slider.addEventListener('mousedown', (e) => {
  isDown = true;
  slider.classList.add('active');
  startX = e.pageX - slider.offsetLeft;
  scrollLeft = slider.scrollLeft;
});

slider.addEventListener('mouseleave', () => {
  isDown = false;
  slider.classList.remove('active');
});

slider.addEventListener('mouseup', () => {
  isDown = false;
  slider.classList.remove('active');
});

slider.addEventListener('mousemove', (e) => {
  if (!isDown) return;
  e.preventDefault();
  const x = e.pageX - slider.offsetLeft;
  const walk = (x - startX) * 3;
  slider.scrollLeft = scrollLeft - walk;
});

document.getElementById('prevBtn').addEventListener('click', (e) => {
  e.preventDefault();
  slider.scrollBy({
    top: 0,
    left: -slider.offsetWidth,
    behavior: 'smooth'
  });
});

document.getElementById('nextBtn').addEventListener('click', (e) => {
  e.preventDefault();
  slider.scrollBy({
    top: 0,
    left: slider.offsetWidth,
    behavior: 'smooth'
  });
});

  
{% endjavascript %}
